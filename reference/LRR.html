<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Log-response ratio — LRR • SingleCaseES</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Log-response ratio — LRR"><meta property="og:description" content="Calculates the increasing or decreasing version of the
  log-response ratio effect size index, with or without bias correction
  (Pustejovsky, 2015)"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SingleCaseES</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Effect-size-definitions.html">Effect size definitions and mathematical details</a>
    </li>
    <li>
      <a href="../articles/Using-SingleCaseES.html">Basic effect sizes calculations using SingleCaseES</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/jepusto/SingleCaseES/" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Log-response ratio</h1>
    
    <div class="hidden name"><code>LRR.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculates the increasing or decreasing version of the
  log-response ratio effect size index, with or without bias correction
  (Pustejovsky, 2015)</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">LRRd</span><span class="op">(</span></span>
<span>  <span class="va">A_data</span>,</span>
<span>  <span class="va">B_data</span>,</span>
<span>  <span class="va">condition</span>,</span>
<span>  <span class="va">outcome</span>,</span>
<span>  baseline_phase <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  intervention_phase <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  improvement <span class="op">=</span> <span class="st">"decrease"</span>,</span>
<span>  scale <span class="op">=</span> <span class="st">"count"</span>,</span>
<span>  observation_length <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  intervals <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  D_const <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bias_correct <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  pct_change <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  confidence <span class="op">=</span> <span class="fl">0.95</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">LRRi</span><span class="op">(</span></span>
<span>  <span class="va">A_data</span>,</span>
<span>  <span class="va">B_data</span>,</span>
<span>  <span class="va">condition</span>,</span>
<span>  <span class="va">outcome</span>,</span>
<span>  baseline_phase <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  intervention_phase <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  improvement <span class="op">=</span> <span class="st">"increase"</span>,</span>
<span>  scale <span class="op">=</span> <span class="st">"count"</span>,</span>
<span>  observation_length <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  intervals <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  D_const <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bias_correct <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  pct_change <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  confidence <span class="op">=</span> <span class="fl">0.95</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>A_data</dt>
<dd><p>vector of numeric data for A phase. Missing values are dropped.</p></dd>


<dt>B_data</dt>
<dd><p>vector of numeric data for B phase. Missing values are dropped.</p></dd>


<dt>condition</dt>
<dd><p>vector identifying the treatment condition for each
observation in the series.</p></dd>


<dt>outcome</dt>
<dd><p>vector of outcome data for the entire series.</p></dd>


<dt>baseline_phase</dt>
<dd><p>character string specifying which value of
<code>condition</code> corresponds to the baseline phase. Defaults to first
observed value of <code>condition</code>.</p></dd>


<dt>intervention_phase</dt>
<dd><p>character string specifying which value of
<code>condition</code> corresponds to the intervention phase. Defaults to second
unique value of <code>condition</code>.</p></dd>


<dt>improvement</dt>
<dd><p>character string indicating direction of improvement.
Default is "increase".</p></dd>


<dt>scale</dt>
<dd><p>character string indicating the scale of the outcome variable,
with possible values <code>"percentage"</code> for a percentage with range 0-100,
<code>"proportion"</code> for a proportion with range 0-1, <code>"count"</code> for a
frequency count (0 or positive integers), <code>"rate"</code> for a standardized
rate per minute. If a vector, the most frequent unique value will be used.</p></dd>


<dt>observation_length</dt>
<dd><p>length of observation session (in minutes). If a
vector, the mean observation session length will be used.</p></dd>


<dt>intervals</dt>
<dd><p>for interval recording procedures, the total number of
intervals per observation session. If a vector, the mean number of
intervals will be used.</p></dd>


<dt>D_const</dt>
<dd><p>constant used for calculating the truncated sample mean (see
Pustejovsky, 2018). If a vector, the mean value will be used.</p></dd>


<dt>bias_correct</dt>
<dd><p>logical value indicating whether to use bias-correction.
Default is <code>TRUE</code>.</p></dd>


<dt>pct_change</dt>
<dd><p>logical value indicating whether to convert the LRR
estimate and confidence interval into percentage change.</p></dd>


<dt>confidence</dt>
<dd><p>confidence level for the reported interval estimate. Set to
<code>NULL</code> to omit confidence interval calculations.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A data.frame containing the estimate, standard error, and approximate
  confidence interval.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The response ratio parameter is the ratio of the mean level of the
  outcome during phase B to the mean level of the outcome during phase A. The
  log response ratio is the natural logarithm of the response ratio. This
  effect size is appropriate for outcomes measured on a ratio scale (so that
  zero corresponds to the true absence of the outcome. There are two versions
  of the LRR. The LRR-increasing (<code>LRRi</code>) is defined so that positive
  values correspond to therapeutic improvements. The LRR-decreasing
  (<code>LRRd</code>) is defined so that negative values correspond to therapeutic
  improvements. For outcomes measured as frequency counts or rates, the two
  versions will have the same magnitude but opposite sign; for outcomes
  measured as percentages or proportions, the LRRd and LRRi will differ in
  both sign and magnitude (Pustejovsky, 2018).</p>
<p>Without bias correction, the log response ratio is estimated as the natural
  logarithm of the phase B sample mean, minus the natural logarithm of the
  phase A sample mean. A delta-method bias correction to the estimator is
  used by default.</p>
<p>The standard error of LRR is calculated based on a delta-method
  approximation, allowing for the possibility of different degrees of
  dispersion in each phase. The confidence interval for LRR is based on a
  large-sample (z) approximation.</p>
<p>To account for the possibility of sample means of zero, a truncated mean is
  calculated following the method described in Pustejovsky (2018). Truncated
  sample variances are also calculated to ensure that standard errors will be
  strictly larger than zero. The truncation constant depends on the scale of
  the outcome, the length of the observation sessions used to measure the
  dependent variable, and (for interval recording procedures) the total
  number of intervals per session (or the total number of items for other
  percentage/proportion scales). The argument <code>scale</code> must be specified
  in order to calculate an appropriate truncation constant. For standardized
  rates, the argument <code>observation_length</code> must also be specified; for
  percentages or proportions, the argument <code>intervals</code> must be
  specified. For outcomes measured using continuous recording procedures, set
  <code>intervals</code> equal to 60 times the length of the observation session in
  minutes.</p>
<p>If <code>pct_change</code> is <code>TRUE</code>, then the LRR estimate and confidence
  interval are converted into percentage change using the formula 
  Percentage change = 100 * (exp(LRR) - 1).</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Pustejovsky, J. E. (2015). Measurement-comparable effect sizes
  for single-case studies of free-operant behavior. <em>Psychological
  Methods, 20</em>(3), 342--359.
  doi:<a href="https://doi.org/10.1037/met0000019" class="external-link">doi:10.1037/met0000019</a></p>
<p>Pustejovsky, J. E. (2018). Using response ratios for meta-analyzing
  single-case designs with behavioral outcomes. <em>Journal of School
  Psychology, 16</em>, 99-112.
  doi:<a href="https://doi.org/10.1016/j.jsp.2018.02.003" class="external-link">doi:10.1016/j.jsp.2018.02.003</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">20</span>, <span class="fl">26</span>, <span class="fl">25</span>, <span class="fl">22</span>, <span class="fl">23</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">B</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">28</span>, <span class="fl">25</span>, <span class="fl">24</span>, <span class="fl">27</span>, <span class="fl">30</span>, <span class="fl">30</span>, <span class="fl">29</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">LRRd</span><span class="op">(</span>A_data <span class="op">=</span> <span class="va">A</span>, B_data <span class="op">=</span> <span class="va">B</span>, bias_correct <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ES       Est         SE   CI_lower CI_upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 LRRd 0.1958846 0.05557723 0.08695525 0.304814</span>
<span class="r-in"><span><span class="fu">LRRd</span><span class="op">(</span>A_data <span class="op">=</span> <span class="va">A</span>, B_data <span class="op">=</span> <span class="va">B</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ES       Est         SE   CI_lower  CI_upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 LRRd 0.1953962 0.05557723 0.08646679 0.3043255</span>
<span class="r-in"><span><span class="fu">LRRd</span><span class="op">(</span>A_data <span class="op">=</span> <span class="va">A</span>, B_data <span class="op">=</span> <span class="va">B</span>, pct_change <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             ES        Est         SE   CI_lower   CI_upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         LRRd  0.1953962 0.05557723 0.08646679  0.3043255</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Pct_Change_d 21.5792546         NA 9.03151604 35.5710321</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by James E. Pustejovsky, Man Chen, Daniel M. Swan.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '',
    indexName: 'SingleCaseES',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

